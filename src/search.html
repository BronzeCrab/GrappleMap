<!DOCTYPE html>
<html lang='en'>
	<head>
		<title>GrappleMap Search</title>
		<meta charset="UTF-8">
		<style>
			.link {
			  stroke-width: 3px;
			}
			.node {
			  stroke: black;
			  fill: white;
			}
			.node_label {
				text-anchor: middle;
			}
			.link_label {
				text-anchor: middle;
				font-weight: bold;
			}
			.link_info {
				bottom: 0px;
				position: fixed;
				margin: 10px;
			}
			a{text-decoration:none}
		</style>
		<script>
			function v3(x,y,z){return [x,y,z];}
		</script>
		<script src='https://d3js.org/d3.v3.min.js' charset='utf-8'></script>
		<script src='../babylon.js'></script>
		<script src='../gm.js'></script>
		<script src='../graphdisplay.js'></script>
		<script src='../transitions.js'></script>
	</head>
	<body style='margin:0px;text-align:center'>
		<h1><a href='https://github.com/Eelis/GrappleMap/blob/master/doc/FAQ.md'>GrappleMap</a></h1>
		<h2>Search</h2>
		<div style='border:1px solid black;display:inline-block;text-align:left;padding:15px'>
			Show positions and transitions that have <em>all of</em> these tags:
			<ul id='include_tags'></ul>
			<span id='nonelabel'>and <em>none of</em> these tags:</span>
			<ul id='exclude_tags'></ul>
			<span id='nonelabel'>and these substrings:</span>&nbsp;
			<input id='substrs_box' type='text' oninput='on_substrs();'></input>
		</div>

		<br><br><hr>
		<span style='border:1px solid black;display:inline-block;padding:5px' id='view_controls'></span>

		<table style='width:100%'>
			<tr>
				<td style='vertical-align:top;width:60%'>
					<h2>Positions (<span id='pos_count_label'></span>)</h2>
					<div id='position_pics'></div>
				</td>
				<td style='vertical-align:top;width:40%'>
					<h2>Transitions (<span id='trans_count_label'></span>)</h2>
					<div id='transition_pics'></div>
				</td>
			</tr>
		</table>

		<hr>
		<h2>Neighbourhood</h2>
		<p>(<a id='diagramlink' href=''>view in explorer</a>)</p>

		<div style='position:absolute;width:100%;height:100%'>
			<canvas style='width:100%;height:100%;position:absolute;left:0px;top:0px' id='renderCanvas'></canvas>
			<svg id="mynetwork" style='position:absolute;width:100%;height:100%;background:rgba(255,255,255,0.55);left:0px;top:0px'>
				<g id="links"></g>
				<g id="nodes"></g>
				<g id="labels"></g>
			</svg>
		</div>

		<div id='infos' style='text-align:left'></div>

		<script src='search.js'></script>
	</body>
</html>
